# テスト要件 (Testing Requirements)

## 最小テストカバレッジ: 80%

テストタイプ (すべて必須):

1. **ユニットテスト** - 個別の関数、ユーティリティ、コンポーネント
2. **統合テスト** - APIエンドポイント、データベース操作
3. **E2Eテスト** - 重要なユーザーフロー (Playwright)

## テスト駆動開発 (Test-Driven Development)

必須ワークフロー (MANDATORY):

1. 最初にテストを書く (RED)
2. テストを実行する - 失敗すべき (FAIL)
3. 最小限の実装を書く (GREEN)
4. テストを実行する - 通過すべき (PASS)
5. リファクタリング (IMPROVE)
6. カバレッジを検証する (80%以上)

## テスト失敗のトラブルシューティング

1. **tdd-guide** エージェントを使用する
2. テストの分離を確認する
3. モックが正しいことを検証する
4. テストではなく実装を修正する（テストが間違っている場合を除く）

## エージェントサポート

* **tdd-guide** - 新機能に対して「積極的」に使用し、テストファーストを強制する
* **e2e-runner** - Playwright E2Eテストスペシャリスト

