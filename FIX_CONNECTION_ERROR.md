# 接続エラーの解決方法

## エラーメッセージ

- "there was a problem running the requested app"
- "unknown error could not connect to the server"

## 🎯 最も簡単な解決方法：トンネルモードを使用

Wi-Fi接続の問題を回避するために、**トンネルモード**を使用することをお勧めします。

### ステップ1: 現在のプロセスを停止

ターミナルで`Ctrl+C`を押して、現在実行中の`npm start`を停止してください。

### ステップ2: トンネルモードで起動

```bash
npm run start:tunnel
```

または

```bash
npx expo start --tunnel
```

### ステップ3: QRコードまたはURLを確認

トンネルモードでは、以下のようなURLが表示されます：

```
› Metro waiting on exp://u.expo.dev/...
```

または

```
exp://u.expo.dev/xxxx-xxxx-xxxx
```

このURLは、**インターネット経由で接続できる**ため、同じWi-Fiに接続する必要がありません。

### ステップ4: Expo Goアプリで接続

1. **iOSの場合**:
   - デバイスのカメラアプリでQRコードをスキャン
   - または、Expo Goアプリで「Enter URL manually」を探してURLを入力

2. **Androidの場合**:
   - Expo Goアプリで「Scan QR code」をタップ
   - または、「Enter URL manually」でURLを入力

## 🔍 トラブルシューティング

### トンネルモードが起動しない場合

1. **インターネット接続を確認**
   - PCがインターネットに接続されているか確認

2. **Expoアカウントにログイン**
   ```bash
   npx expo login
   ```

3. **再度トンネルモードで起動**
   ```bash
   npx expo start --tunnel
   ```

### トンネルモードが遅い場合

トンネルモードはインターネット経由のため、少し遅い場合があります。同じWi-Fiに接続できる場合は、通常モードを使用してください。

## 📋 通常モードで接続する場合の確認事項

トンネルモードを使用しない場合、以下を確認してください：

### 1. PCとスマートフォンが同じWi-Fiに接続されているか

**これが最も重要です！**

- PCのWi-Fi接続を確認
- スマートフォンのWi-Fi接続を確認
- **完全に同じWi-Fiネットワーク**に接続されている必要があります

### 2. PCのIPアドレスを確認

PowerShellで以下を実行：

```powershell
ipconfig
```

「IPv4 アドレス」の行を確認してください。

### 3. ターミナルのURLとIPアドレスが一致しているか確認

ターミナルに表示されているURLのIPアドレスが、`ipconfig`で表示されたIPアドレスと一致しているか確認してください。

### 4. ファイアウォールの設定を確認

Windowsファイアウォールがポート8083をブロックしていないか確認してください。

## 🚀 推奨される手順

1. **まずトンネルモードを試す**（最も簡単）
   ```bash
   npm run start:tunnel
   ```

2. **トンネルモードで接続できない場合、通常モードで確認**
   ```bash
   npm start
   ```
   - PCとスマートフォンが同じWi-Fiに接続されているか確認
   - IPアドレスが一致しているか確認

## 📝 まとめ

- 🎯 **トンネルモードを使用することをお勧めします**（Wi-Fi接続の問題を回避）
- ✅ **トンネルモードでは、同じWi-Fiに接続する必要がありません**
- 🔍 **通常モードを使用する場合、PCとスマートフォンが同じWi-Fiに接続されている必要があります**

まずは`npm run start:tunnel`を試してみてください！
