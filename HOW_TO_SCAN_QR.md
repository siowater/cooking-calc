# QRコードスキャンの正しい方法

## ⚠️ 重要：プラットフォームによって方法が異なります

**iOSとAndroidでQRコードスキャンの方法が異なります。**

## ✅ 正しい手順（プラットフォーム別）

### Androidの場合

1. **Expo Goアプリをインストール**
   - [Google Play](https://play.google.com/store/apps/details?id=host.exp.exponent)から「Expo Go」をインストール

2. **Expo Goアプリを起動**
   - アプリを開くとホーム画面が表示されます

3. **「Scan QR code」ボタンを探す**
   - ホーム画面の上部に「Scan QR code」または「QRコードをスキャン」ボタンがあるはずです
   - 見つからない場合、画面をスクロールして確認
   - または「+」ボタンや「Connect」ボタンを探す

4. **QRコードをスキャン**
   - ボタンをタップしてカメラを起動
   - PCのターミナルに表示されているQRコードをスキャン

### iOSの場合

1. **Expo Goアプリをインストール**
   - [App Store](https://apps.apple.com/app/expo-go/id982107779)から「Expo Go」をインストール

2. **デバイスのカメラアプリを使用**
   - iOSでは、デバイスの標準カメラアプリからQRコードをスキャンします
   - カメラアプリを開いて、PCのターミナルに表示されているQRコードをスキャン
   - 通知が表示されるので、それをタップしてExpo Goアプリを開く

### 最も確実な方法：URLを手動入力（全プラットフォーム共通）

「Scan QR code」ボタンが見つからない場合、またはQRコードが読み取れない場合、URLを手動で入力する方法が最も確実です。

## 📸 視覚的な説明

```
┌─────────────────────────────────────┐
│      Expo Goアプリ（ホーム画面）      │
│                                     │
│  ┌─────────────────────────────┐  │
│  │   [Scan QR code]  ← ここ！   │  │
│  └─────────────────────────────┘  │
│                                     │
│  [Recent projects]                 │
│  [Enter URL manually]              │
│                                     │
└─────────────────────────────────────┘
         ↓ タップ
┌─────────────────────────────────────┐
│      Expo Goアプリ（カメラ画面）      │
│                                     │
│  ┌─────────────────────────────┐  │
│  │                             │  │
│  │     カメラビュー             │  │
│  │                             │  │
│  │   ← PCのQRコードをスキャン   │  │
│  │                             │  │
│  └─────────────────────────────┘  │
│                                     │
└─────────────────────────────────────┘
```

## 🔄 代替方法：URLを手動入力

QRコードが読み取れない場合、URLを手動で入力することもできます：

1. Expo Goアプリのホーム画面で「Enter URL manually」または「URLを手動入力」をタップ
2. ターミナルに表示されているURLを入力
   - 例: `exp://192.168.1.100:8083`
   - または: `exp://127.0.0.1:8083`（同じデバイスで実行している場合）

## ❌ よくある間違い

### 間違い1: カメラアプリからスキャン

```
❌ スマートフォンのカメラアプリを開く
❌ QRコードをスキャン
❌ → 何も起こらない、またはエラー
```

### 間違い2: 他のQRコードスキャンアプリからスキャン

```
❌ 他のQRコードスキャンアプリを開く
❌ QRコードをスキャン
❌ → Expo Goアプリが起動しない
```

## ✅ 正しい方法（再確認）

```
✅ Expo Goアプリを開く
✅ アプリ内の「Scan QR code」ボタンをタップ
✅ アプリ内のカメラでQRコードをスキャン
✅ → アプリが読み込みを開始
```

## 🐛 トラブルシューティング

### QRコードが表示されない場合

1. ターミナルウィンドウをスクロールして確認
2. 数秒待ってから再度確認（Metro Bundlerの起動に時間がかかる場合がある）
3. `npx expo start --clear`でキャッシュをクリアして再起動

### スキャンできない場合

1. **同じWi-Fiネットワークに接続されているか確認**
   - PCとスマートフォンが同じWi-Fiに接続されている必要があります
2. **ファイアウォールの設定を確認**
   - Windowsファイアウォールがポートをブロックしていないか確認
3. **URLを手動入力**
   - QRコードが読み取れない場合、URLを手動で入力できます

### 「Unable to connect」エラー

1. PCとスマートフォンが同じWi-Fiネットワークに接続されているか確認
2. PCのIPアドレスを確認（`ipconfig`コマンドで確認可能）
3. ファイアウォールの設定を確認

## 📝 まとめ

- ⚠️ **カメラアプリからスキャンしても動作しません**
- ✅ **Expo Goアプリ内の「Scan QR code」ボタンからスキャンしてください**
- 🔄 **QRコードが読み取れない場合は、URLを手動入力することも可能です**
